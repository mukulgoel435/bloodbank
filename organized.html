<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="organized.css">
      <link rel="stylesheet" href="style3.css">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>

    <title>Organize Drive</title>
  </head>
  <body>
  <div class="background-home">
<img class="home1" src="images/mm.jpeg" alt="">
<img class="home2" src="images/ll.webp" alt="">


<!-- nav bar  -->
<!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<a href="loginpage.html"> <button type="button" class="btn2" name="button">Login</button></a>
<a href="signuppage.html"><button type="button" class="btn3" name="button">Sign up</button></a>

<div class="topnav" id="myTopnav">
  <a class="po" href="home.html" >Home</a>
  <a href="events.html">Events</a>
  <a href="contact.html">Contact</a>
  <a class="po" href="about.html">About</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>
<div class="content">
  <div class="form-style-5">
  <div id="form">
  <fieldset>
  <legend><span class="number">1</span>Organize blood drive</legend>
  <input type="text" id="username" required name="field1" placeholder="Organization Name">
  <input type="text" id="name" required  name="field2" placeholder="Organizer Name ">
    <input type="number" id="phone" required  name="field2"  placeholder="Contact Number ">
      <input type="email" id="email" required  name="field2" placeholder="Email Id ">
    <input type="date" id="date" required  name="field2">
      <input type="time" id="time" required  name="field2">
        <input type="text" id="venue" required  name="field2" placeholder="Venue">
          <input type="text" id="city" required  name="field2" placeholder="City">
            <input type="text" id="district"   name="field2" placeholder="District">


  </select>
  </fieldset>
  <fieldset>
  <legend><span class="number">2</span> Additional Info</legend>
  <textarea name="field3" id="text" placeholder="About Your Drive"></textarea>
  </fieldset>
<!-- <a href="home.html"><input type="submit" onclick="myFunction()" id="register" value="Apply" disabled="disabled" /></a> -->
<button id="apply" onclick="myFunction()" class="button1" type="submit" value="Apply" /> Apply</button>
</div>
  </div>
</div>
</div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
<!-- <script type="text/javascript">
function myFunction()
{
 alert("Successfully Applied.   Thank you!");
}

var form = document.getElementById('form')
form.addEventListener('submit',function(event){
  event.preventDefault() //prevents the form from autosubmitting
  var username = document.getElementById('username').value
  console.log(username)
} -->
<script type="javascript">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";

      import { getFirestore } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-firestore.js";
      import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-firestore.js";

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
  apiKey: "AIzaSyB6iIwAmPC01Wk-eWyIc8wr7Tv3xa_yZD4",
  authDomain: "blood-bank-f3ae1.firebaseapp.com",
  databaseURL: "https://blood-bank-f3ae1-default-rtdb.firebaseio.com",
  projectId: "blood-bank-f3ae1",
  storageBucket: "blood-bank-f3ae1.appspot.com",
  messagingSenderId: "608972566323",
  appId: "1:608972566323:web:8d5843024ca1cf6187d846",
  measurementId: "G-S6L3Q0745G"
};

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);

      var db = firebase.firestore();
// Initialize Cloud Firestore and get a reference to the service


      //console.log(app);

       //----- New Registration code start
    document.getElementById("apply").addEventListener("click", function() {
      var email =  document.getElementById("email").value;
      var organization_name = document.getElementById("username").value;
      var phone_no =  document.getElementById("phone").value;
      var organizer_name =  document.getElementById("name").value;
      var date =  document.getElementById("date").value;
          var time =  document.getElementById("time").value;
                  var venue =  document.getElementById("venue").value;
                      var city =  document.getElementById("city").value;
                          var district =  document.getElementById("district").value;
                            var info =  document.getElementById("text").value;





          const docRef = await addDoc(collection(db,"drive"), {
            organization_name: organization_name,
            organizer_name: organizer_name,
            email: email,
            phoneno: phone_no,
            date: date,
            time: time,
            venue: venue,
            city: city,
            district: district,
            info: info
          });
          console.log("Document written with ID: ", docRef.id);
          } catch (e) {
          console.error("Error adding document: ", e);
          }


        });
</script>
  </body>
</html>
